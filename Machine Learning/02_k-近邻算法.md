## k-近邻算法

- 时间：2018-07-15
- 摘要：首先介绍了KNN，然后一般流程，最后通过`约会网站预测`来进行练习
- 优缺点：精度高、对异常值不敏感； 计算复杂度和空间复杂度高

#### 工作原理

工作原理是：存在一个样本数据集合，也称作为训练样本集，并且样本集中每个数据都存在标签，即我们知道样本集中每一个数据与所属分类的对应关系。输入没有标签的新数据后，将新的数据的每个特征与样本集中数据对应的特征进行比较，然后算法提取样本最相似数据(最近邻)的分类标签。一般来说，我们只选择样本数据集中前k个最相似的数据，这就是k-近邻算法中k的出处，通常k是不大于20的整数。最后，选择k个最相似数据中出现次数最多的分类，作为新数据的分类。

#### k-近邻算法一般流程

1. 收集数据：可使用任何方法
2. 准备数据：距离计算所需要的数值(一般为欧氏距离$\sqrt{(A_0-B_0)^2+(A_1-B_1)^2}$ )
3. 分析数据：可使用任何方法
4. 训练算法：此步骤不适用于k-近邻算法
5. 测试算法：计算错误率
6. 使用算法：首先输入样本数据，然后运行k-近邻算法判定输入数据分别属于哪一个分类

伪代码如下：

```
对未知类别属性的数据中的每个点执行以下操作：
	计算已知类别数据集中的点与当前点之间的距离；
	按照距离递增排序；
	选取与当前点距离最小的k个点；
	确定前k个点所在类别的出现频率；
	返回前k个点所出现频率最高的类别作为当前点的预测分类。
```

#### 实战-改进约会网站的配对效果

​                                                              表1 约会网站的样本数据

| 视频游戏所耗时间百分比 | 每年获得的飞行常客里程数 | 每周消费的冰淇淋公升数 | 样本分类 |
| :--------------------: | :----------------------: | :--------------------: | :------: |
|          0.8           |           400            |          0.5           |    1     |
|           12           |          134000          |          0.9           |    3     |
|           0            |          20000           |          1.1           |    2     |
|           67           |          32000           |          0.1           |    2     |

#### KNN流程

```flow
st=>start: 开始
e=>end: 结束
op1=>operation: 加载数据
op2=>operation: 数值归一化
op3=>operation: 计算距离
op4=>operation: 排序，得到类别
st(right)->op1(right)->op2(right)->op3(right)->op4(right)->e
```

#### 参考文献

- [《机器学习实战》](https://item.jd.com/11242112.html) 
